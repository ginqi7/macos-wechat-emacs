#+TITLE: Emacs Plugin for MacOS WeChat

Chat in Emacs via WeChat on macOS.

*The current version only supports Wechat 3.8 and simplified Chinese on WeChat.*

There is a CLI tool ([[https://github.com/ginqi7/macos-wechat-cli][macos-wechat-cli]]) to interact with MacOS WeChat.

This plugin, combined with the CLI, allows for easy chatting in Emacs via WeChat.

* Features
This project focuses solely on sending and reading messages without complex management features.
- [x] List chats
- [x] Show messages in a chat.
- [x] Send a message to a chat.
- [x] Preview images or links or videos.

* Examples
** List chats
[[file:examples/list-chats.png]]
** Show Messages
[[file:examples/show-messages.png]]
** Preview images
[[file:examples/preview.png]]
Click the buttonized-string, A WeChat preview window will appear.

* Usage
1. Use =wechat-list-chats= to display your chats.
2. Press <return> in the chat list to display the chat messages.
3. Enter your message in the chat message buffer and press <return> to send.

* Installation

** wechat-cli
#+begin_src shell
brew install ginqi7/formulae/wechat-cli
#+end_src

** package

- clone the project in your own emacs configuration files directory, like:
#+begin_src shell
  git clone git@github.com:ginqi7/wechat-emacs.git ~/.emacs.d/lisp/wechat-emacs
#+end_src

- add the path to ‘load-path’
#+begin_src emacs-lisp
  (add-to-list 'load-path (expand-file-name "~/.emacs.d/lisp/wechat-emacs"))
#+end_src

* Configuration
Add the following line to your Emacs configuration file (e.g., `.emacs` or `init.el`):

#+begin_src emacs-lisp
  (require 'wechat)
#+end_src
** Variables
| name                | description                             | default value              |
| wechat-cli          | The path of wechat-cli command          | (executable-find "wechat") |
| wechat-common-chats | The list of wechat-cli Common Contacts. | nil                        |

* Identified Issues
1. Unable to bind ~wechat--send-in-chat~ to multiple keys in the keymap.
2. The current version of wechat-cli contains many hardcoded elements, limiting its support to Chinese only.
